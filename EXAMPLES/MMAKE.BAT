@ECHO OFF
REM
REM   BATCH to compile all DMASTEPs (or one of them) with TASM/TLINK
REM   written by Andre' Baresel  (alias CYDER of GREEN APPLE!)
REM   converted for MASM 5.x (or MASM 6.x 'driver') by Craig Jackson
REM 
IF "%1" == "1" GOTO ONLYONE
IF "%1" == "2" GOTO ONLYONE
IF "%1" == "3" GOTO ONLYONE
IF "%1" == "4" GOTO ONLYONE
IF "%1" == "5" GOTO ONLYONE
IF "%1" == "6" GOTO ONLYONE
IF "%1" == "7" GOTO ONLYONE
IF "%1" == "8" GOTO ONLYONE
IF "%1" == "9a" GOTO ONLYONE
IF "%1" == "9A" GOTO ONLYONE
IF "%1" == "9b" GOTO ONLYONE
IF "%1" == "9B" GOTO ONLYONE
IF "%1" == "10" GOTO ONLYONE
IF "%1" == "11" GOTO ONLYONE
IF "%1" == "12" GOTO ONLYONE
REM create 8bit mono unsigned data :
VOC2RAW TEST1.VOC /I /O
MASM DMASTEP1.ASM;
MASM DMASTEP2.ASM;
MASM DMASTEP3.ASM;
MASM DMASTEP4.ASM;
MASM DMASTEP5.ASM;
MASM DMASTEP6.ASM;
MASM DMASTEP7.ASM;
REM create 8bit mono signed data :
VOC2RAW TEST1.VOC /I /S /O
MASM DMASTEP8.ASM;
REM create 8bit stereo unsigned data :
VOC2RAW TEST1.VOC /I /R /O
MASM DMASTP9a.ASM;
MASM DMASTP9b.ASM;
MASM DMASTP11.ASM;
REM creat 8bit mono unsigned data :
VOC2RAW TEST1.VOC /I /O
MASM DMASTP10.ASM;
MASM DMASTP12.ASM;
LINK DMASTEP1.OBJ;
LINK DMASTEP2.OBJ;
LINK DMASTEP3.OBJ;
LINK DMASTEP3.OBJ;
LINK DMASTEP4.OBJ;
LINK DMASTEP5.OBJ;
LINK DMASTEP6.OBJ;
LINK DMASTEP7.OBJ;
LINK DMASTEP8.OBJ;
LINK DMASTP9a.OBJ;
LINK DMASTP9b.OBJ;
LINK DMASTP10.OBJ;
LINK DMASTP11.OBJ;
LINK DMASTP12.OBJ;
DEL DMAST*.OBJ
@DEL DMAST*.CRF
@DEL DMAST*.LST
@DEL DMAST*.MAP
GOTO END
:ONLYONE
IF %1 == 8  GOTO EXTRA1
IF %1 == 9a GOTO EXTRA2
IF %1 == 9A GOTO EXTRA2
IF %1 == 9b GOTO EXTRA2
IF %1 == 9B GOTO EXTRA2
IF %1 == 10 GOTO EXTRA3
IF %1 == 11 GOTO EXTRA2
IF %1 == 12 GOTO EXTRA3
VOC2RAW TEST1.VOC /I /O
:BACK
MASM DMASTEP%1.ASM;
IF ERRORLEVEL 1 GOTO END
LINK DMASTEP%1.OBJ;
DEL DMASTEP%1.OBJ
@DEL DMASTEP%1.MAP
@DEL DMASTEP%1.CRF
@DEL DMASTEP%1.LST
GOTO END
:EXTRA1
VOC2RAW TEST1.VOC /I /S /O
GOTO BACK
:EXTRA3
VOC2RAW TEST1.VOC /I /O
GOTO LONG
:EXTRA2
VOC2RAW TEST1.VOC /I /R /O
:LONG
MASM DMASTP%1.ASM;
IF ERRORLEVEL 1 GOTO END
LINK DMASTP%1.OBJ;
DEL DMASTP%1.OBJ
@DEL DMASTP%1.MAP
@DEL DMASTP%1.CRF
@DEL DMASTP%1.LST
:END
DEL TEST1.INC
